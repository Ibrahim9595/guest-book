(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],Array(20).concat([function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},function(e,t,a){e.exports=a(40)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a.n(s),i=(a(26),a(27),r.a.createContext({user:{_id:"",name:"",token:""},loading:!1,loginError:null,signupError:null,signupSuccess:null,login:function(e,t){},register:function(e,t,a){},logout:function(){}})),o=a(5),l=(a(28),a(29),a(2)),u=a(19),m={required:function(e){return null!==e&&void 0!==e&&e.length>0},string:function(e){return"string"===typeof e},number:function(e){return"number"===typeof e},array:function(e){return"object"===typeof e&&"number"===typeof e.length},object:function(e){return"object"===typeof e&&"undefined"===typeof e.length},maxLength:function(e,t){return e.length<=t},minLength:function(e,t){return e.length>=t},above:function(e,t){return"number"===typeof e&&e>t},below:function(e,t){return"number"===typeof e&&e<t},email:function(e){return/^[-_.0-9a-zA-Z]+@[0-9a-zA-Z]+\.[0-9a-zA-Z]+$/.test(e)},equal:function(e,t){return e===t}},d=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return Object.keys(t).forEach((function(r){var s=[];t[r].every((function(t){var n=t.split(":"),c=Object(u.a)(n),i=c[0],o=c.slice(1),d=m[i];if(d){var p=!1;if("equal"===i){var f=e[o[0]];p=d(e[r],f)}else p=d.apply(void 0,[e[r]].concat(Object(l.a)(o)));return p||s.push(a["".concat(r,".").concat(i)]?a["".concat(r,".").concat(i)]:"".concat(r,".").concat(i)),p}return!0}))||(n[r]=s)})),n},p=a(10),f=a(1),g=a(3),h=a.n(g),b=a(4),v=a(7),j=a(8),O=a(15),E=a(14),w=function(e){Object(O.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).isValid=function(e){return Object.values(e).every((function(e){return 0===e.length}))},n.validate=function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="function"===typeof n.props.validate&&n.props.validate(t)||{},n.setState({errors:a,isValid:n.isValid(a)});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.validateAsync=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var r,s,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!n.state.errors[t],"function"!==typeof n.props.validateAsync||!r){e.next=8;break}return n.setState({isValid:!1}),e.next=5,n.props.validateAsync(t,a);case 5:s=e.sent,c=Object(f.a)(Object(f.a)({},n.state.errors),s),n.setState({errors:c,isValid:n.isValid(c)});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handleChange=function(e){n.setState({values:Object(f.a)(Object(f.a)({},n.state.values),{},Object(p.a)({},e.target.name,e.target.value))},(function(){n.validate(n.state.values)}))},n.handleBlur=function(e){var t=e.target.name,a=e.target.value;n.setState({dirty:Object(f.a)(Object(f.a)({},n.state.dirty),{},Object(p.a)({},t,!0))},(function(){return n.validateAsync(t,a)}))},n.setFormSubmitting=function(e){n.setState({submitting:e})},n.reset=function(){n.setState({values:n.props.initialValues})},n.submit=function(e){e.preventDefault(),"function"===typeof n.props.onSubmit&&n.state.isValid&&n.props.onSubmit({setFormSubmitting:n.setFormSubmitting,values:n.state.values,reset:n.reset})},n.state={values:e.initialValues||{},dirty:{},errors:{},isValid:!1,submitting:!1},n}return Object(j.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.submit},"function"===typeof this.props.children?this.props.children({handleChange:this.handleChange,handleBlur:this.handleBlur,reset:this.reset,values:this.state.values,submitting:this.state.submitting,errors:this.state.errors,dirty:this.state.dirty,isValid:this.state.isValid}):r.a.createElement("span",null,"You should pass a function that returns JSX elements"))}}]),a}(r.a.PureComponent),y=a(16),S=(a(31),function(e){var t=e.onChange,a=e.value,n=e.erros,s=e.name,c=Object(y.a)(e,["onChange","value","erros","name"]);return r.a.createElement("div",{className:"input-field-wrapper"},r.a.createElement("label",{htmlFor:s},c.label),r.a.createElement("input",Object.assign({},c,{className:"input",value:a,name:s,onChange:t})),(n||[]).map((function(e){return r.a.createElement("span",{key:e,className:"input-field-error"},e)})))}),x="This field is required",N="This is too short",k={"email.required":x,"password.required":x,"repeatPassword.required":x,"name.required":x,"email.email":"This is invalid email","password.minLength":N,"repeatPassword.minLength":N,"repeatPassword.equal":"This field must match password field"},C=function(){var e=r.a.useContext(i);return r.a.createElement(w,{initialValues:{email:"",password:""},onSubmit:function(t){var a=t.values;e.login(a.email,a.password)},validate:function(e){return d(e,{email:["required","email"],password:["required","minLength:8"]},k)}},(function(t){var a=t.handleChange,n=t.handleBlur,s=t.values,c=t.errors,i=t.dirty,o=t.isValid;return r.a.createElement(r.a.Fragment,null,e.loginError&&r.a.createElement("span",{className:"error-span"},"Wrong user name or password"),r.a.createElement(S,{label:"Email",erros:i.email?c.email:[],value:s.email,placeholder:"Write your Email",name:"email",onChange:a,onBlur:n}),r.a.createElement(S,{label:"Password",type:"password",erros:i.password?c.password:[],value:s.password,placeholder:"Password at least 8 characters",name:"password",onChange:a,onBlur:n}),r.a.createElement("button",{className:"submit-button",type:"submit",disabled:!o||e.loading},"Submit"))}))},_=(a(32),new(function(){function e(t){Object(v.a)(this,e),this.baseUrl=t}return Object(j.a)(e,[{key:"_requestBuilder",value:function(){var e=Object(b.a)(h.a.mark((function e(t,a,n,r){var s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:a,body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n}});case 2:if((s=e.sent).ok){e.next=9;break}return e.t0=Error,e.next=7,s.json();case 7:throw e.t1=e.sent.error,new e.t0(e.t1);case 9:return e.next=11,s.json();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)})));return function(t,a,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var a,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"",e.next=3,this._requestBuilder("".concat(this.baseUrl,"/").concat(t),"GET",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n,r,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"",e.next=3,this._requestBuilder("".concat(this.baseUrl,"/").concat(t),"POST",n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n,r,s=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:"",e.next=3,this._requestBuilder("".concat(this.baseUrl,"/").concat(t),"PUT",n,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(b.a)(h.a.mark((function e(t){var a,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"",e.next=3,this._requestBuilder("".concat(this.baseUrl,"/").concat(t),"DELETe",a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}())("http://localhost:3300")),M=function(){var e=Object(n.useContext)(i),t=function(){var e=Object(b.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("email"!==t){e.next=15;break}return e.prev=1,e.next=4,_.get("email_exist/".concat(a));case 4:if(!e.sent){e.next=9;break}return e.abrupt("return",{email:["Email Already Exist"]});case 9:return e.abrupt("return",{});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),alert(e.t0);case 15:return e.abrupt("return",{});case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement(w,{initialValues:{name:"",email:"",password:"",repeatPassword:""},onSubmit:function(t){var a=t.values,n=t.reset;e.register(a.name,a.email,a.password),n()},validate:function(e){return d(e,{name:["required"],email:["required","email"],password:["required","minLength:8"],repeatPassword:["required","equal:password"]},k)},validateAsync:t},(function(t){var a=t.handleChange,n=t.handleBlur,s=t.values,c=t.errors,i=t.dirty,o=t.isValid;return r.a.createElement(r.a.Fragment,null,e.signupError&&r.a.createElement("span",{className:"error-span"},e.signupError),e.sinupSuccess&&r.a.createElement("span",{className:"success-span"},e.sinupSuccess),r.a.createElement(S,{label:"Full Name",erros:i.name?c.name:[],value:s.name,placeholder:"Write your Full Name",name:"name",onChange:a,onBlur:n}),r.a.createElement(S,{label:"Email",erros:i.email?c.email:[],value:s.email,placeholder:"Write your Email",name:"email",onChange:a,onBlur:n}),r.a.createElement(S,{label:"Password",type:"password",erros:i.password?c.password:[],value:s.password,placeholder:"Password at least 8 characters",name:"password",onChange:a,onBlur:n}),r.a.createElement(S,{label:"Repeat password",type:"password",erros:i.repeatPassword?c.repeatPassword:[],value:s.repeatPassword,placeholder:"Repeat your password",name:"repeatPassword",onChange:a,onBlur:n}),r.a.createElement("button",{className:"submit-button",type:"submit",disabled:!o||e.loading},"Submit"))}))},R=function(){var e=r.a.useState("LOGIN"),t=Object(o.a)(e,2),a=t[0],n=t[1],s=function(){n("LOGIN"===a?"SIGNUP":"LOGIN")};return r.a.createElement("div",{className:"auth-page-wrapper"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},"LOGIN"===a&&r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("p",{className:"message"},"Not registered? ",r.a.createElement("button",{onClick:s,href:"#"},"Create an account"))),"SIGNUP"===a&&r.a.createElement("div",null,r.a.createElement(M,null),r.a.createElement("p",{className:"message"},"Already registered? ",r.a.createElement("button",{onClick:s,href:"#"},"Sign In"))))))},q=(a(33),a(34),a(35),a(20)),B=a.n(q),P=(a(36),function(e){return function(t){return t.target.value.length<=150?e(t.target.value):null}}),I=function(e,t,a){return function(n){t(a),e("")}},L=function(e){var t=e.initialMessage,a=e.onSave,s=e.height,c=e.placeholder,i=Object(n.useState)(t),l=Object(o.a)(i,2),u=l[0],m=l[1];return r.a.createElement("div",{className:"message-writter-wrapper",style:{height:s?"".concat(s,"px"):"50px"}},r.a.createElement("input",{className:"message-writter",value:u,onChange:P(m),placeholder:c||"Write something nice..."}),r.a.createElement("button",{className:"message-writter-save",disabled:0===u.length,onClick:I(m,a,u)},"Send ",r.a.createElement("span",null,u.length,"/150")))},V=(a(37),function(e){return r.a.createElement("div",{className:"app-loading-container"},r.a.createElement("div",{className:"app-loading-indicator"}))}),U=function(e){var t=e.status,a=e.onDelete,n=e.onUpdate,s=e.loading,c=e.showControls,i=r.a.useState(!1),l=Object(o.a)(i,2),u=l[0],m=l[1],d=t.text,p=t.user;return u?r.a.createElement(L,{onSave:function(e){m(!1),n(e,t)},initialMessage:d}):r.a.createElement("div",{className:"status-wrapper"},s&&r.a.createElement("div",{className:"loading"},r.a.createElement(V,null)),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"left-section"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:p.avatar?p.avatar:B.a,alt:"avatar"})),r.a.createElement("div",{className:"user-info-section"},r.a.createElement("span",{className:"user-name"},p.name),r.a.createElement("span",{className:"user-email"},p.email))),c&&r.a.createElement("div",{className:"right-section"},r.a.createElement("button",{className:"action-button",onClick:function(){return m(!0)},title:"Edit",style:{color:"#ebe83c"}},"\u270e"),r.a.createElement("button",{className:"action-button",onClick:function(){return a(t)},title:"Delete",style:{color:"red"}},"\u2718"))),r.a.createElement("div",{className:"main-section"},d))},A=function(e){var t=e.messageWithReplies,a=e.onMessageUpdate,n=e.onMessageDelete,s=e.onReplyUpdate,c=e.loadingReplies,i=e.onReplyCreate,o=e.onReplyDelete,l=e.onLoadReply,u=e.loading,m=e.showControls,d=e.showReplyControls,p=t.replies,f=Object(y.a)(t,["replies"]);return r.a.createElement("div",{className:"message-wrapper"},u&&r.a.createElement("div",{className:"loading"},r.a.createElement(V,null)),r.a.createElement("div",{className:"message"},r.a.createElement(U,{status:f,onDelete:n,onUpdate:function(e){return a(e,f)},showControls:m})),r.a.createElement("div",{className:"message-writter"},r.a.createElement(L,{placeholder:"Reply to message...",initialMessage:"",onSave:function(e){return i(f._id,e)}})),r.a.createElement("div",{className:"replies"},p.map((function(e){return r.a.createElement(U,{loading:e.updating,key:e._id,status:e,onDelete:o,onUpdate:s,showControls:d(e)})})),r.a.createElement("div",{className:"load-more"},c?r.a.createElement("button",{disabled:!0},"Loading ..."):r.a.createElement("button",{onClick:function(){return l(f._id)}},"load replies"))))},D=(a(38),function(e){var t=e.userName,a=e.onLogout,n=e.onWriteMessage;return r.a.createElement("div",{className:"nav-bar"},r.a.createElement("div",{className:"nav-bar-left"},r.a.createElement("button",{className:"action-buttons",onClick:n,title:"Write Message"},"\u270e")),r.a.createElement("div",{className:"logo-container"},r.a.createElement("span",{className:"heavy"},"Guest Book")),r.a.createElement("div",{className:"nav-bar-right"},r.a.createElement("button",{className:"action-buttons",disabled:!0},t||""),r.a.createElement("button",{className:"action-buttons",onClick:a,title:"Logout"},"\u2717")))}),W=(a(39),function(e){var t=e.onClose,a=e.children;return r.a.createElement("div",{className:"write-message-modal"},r.a.createElement("div",{className:"content-wrapper"},r.a.createElement("div",{className:"header"},r.a.createElement("button",{className:"action-button",onClick:t},"X")),r.a.createElement("div",{className:"content"},a)))}),F=function(e){Object(O.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(v.a)(this,a),(n=t.call(this,e)).loadMessages=function(){n.setState({loading:!0}),_.get("message",n.user.token).then((function(e){return n.setState({messages:e,loading:!1})})).catch((function(e){alert(e),n.setState({loading:!1})}))},n.createMessage=function(e){var t=Object(f.a)({},n.state);n.setState({messages:[{_id:Date.now(),text:e,user:n.user,user_id:n.user._id,replies:[],updating:!0}].concat(Object(l.a)(n.state.messages))}),_.post("message",{text:e},n.user.token).then((function(e){n.setState({messages:[e].concat(Object(l.a)(t.messages))})})).catch((function(e){alert(e),n.setState(t)}))},n.loadReplies=function(e){var t=Object(f.a)({},n.state),a=n.state.messages.findIndex((function(t){return t._id===e})),r=Object(l.a)(n.state.messages);r[a]=Object(f.a)(Object(f.a)({},r[a]),{},{loadingReplies:!0}),n.setState({messages:r}),_.get("message/".concat(e,"/replies"),n.user.token).then((function(e){r[a]=Object(f.a)(Object(f.a)({},r[a]),{},{loadingReplies:!1,replies:e}),n.setState({messages:Object(l.a)(r)})})).catch((function(e){alert(e),n.setState(t)}))},n.updateMessage=function(e,t){var a=Object(f.a)({},n.state),r=n.state.messages.findIndex((function(e){return e._id===t._id})),s=Object(l.a)(n.state.messages);s[r]=Object(f.a)(Object(f.a)({},s[r]),{},{updating:!0}),n.setState({messages:s}),_.put("message/".concat(t._id),{text:e},n.user.token).then((function(e){s[r]=Object(f.a)(Object(f.a)(Object(f.a)({},s[r]),e),{},{updating:!1}),n.setState({messages:Object(l.a)(s)})})).catch((function(e){alert(e),n.setState(a)}))},n.deleteMessage=function(e){if(window.confirm("Are you sure you want to delete this message?")){var t=Object(f.a)({},n.state),a=n.state.messages.findIndex((function(t){return t._id===e._id})),r=Object(l.a)(n.state.messages);r[a]=Object(f.a)(Object(f.a)({},r[a]),{},{updating:!0}),n.setState({messages:r}),_.delete("message/".concat(e._id),n.user.token).then((function(e){r.splice(a,1),n.setState({messages:Object(l.a)(r)})})).catch((function(e){alert(e),n.setState(t)}))}},n.updateReply=function(e,t,a){var r=Object(f.a)({},n.state),s=n.state.messages.findIndex((function(t){return t._id===e._id})),c=Object(l.a)(n.state.messages),i=Object(l.a)(c[s].replies),o=i.findIndex((function(e){return e._id===a._id}));i[o]=Object(f.a)(Object(f.a)({},i[o]),{},{text:t,updating:!0}),c[s]=Object(f.a)(Object(f.a)({},c[s]),{},{replies:Object(l.a)(i)}),n.setState({messages:Object(l.a)(c)}),_.put("replies/".concat(a._id),{text:t},n.user.token).then((function(e){i[o]=Object(f.a)(Object(f.a)(Object(f.a)({},i[o]),e),{},{updating:!1}),c[s]=Object(f.a)(Object(f.a)({},c[s]),{},{replies:Object(l.a)(i)}),n.setState({messages:Object(l.a)(c)})})).catch((function(e){alert(e),n.setState(r)}))},n.deleteReply=function(e,t){if(window.confirm("Are you sure you want to delete this reply?")){var a=Object(f.a)({},n.state),r=n.state.messages.findIndex((function(t){return t._id===e._id})),s=Object(l.a)(n.state.messages),c=Object(l.a)(s[r].replies),i=c.findIndex((function(e){return e._id===t._id}));c[i]=Object(f.a)(Object(f.a)({},c[i]),{},{updating:!0}),s[r]=Object(f.a)(Object(f.a)({},s[r]),{},{replies:Object(l.a)(c)}),n.setState({messages:Object(l.a)(s)}),_.delete("replies/".concat(t._id),n.user.token).then((function(e){c.splice(i,1),s[r]=Object(f.a)(Object(f.a)({},s[r]),{},{replies:Object(l.a)(c)}),n.setState({messages:Object(l.a)(s)})})).catch((function(e){alert(e),n.setState(a)}))}},n.createRely=function(e,t){var a=Object(f.a)({},n.state),r=n.state.messages.findIndex((function(t){return t._id===e})),s=Object(l.a)(n.state.messages),c=Object(l.a)(s[r].replies);s[r]=Object(f.a)(Object(f.a)({},s[r]),{},{replies:[{_id:Date.now(),text:t,user:n.user,updating:!0}].concat(Object(l.a)(c))}),n.setState({messages:Object(l.a)(s)}),_.post("message/".concat(e,"/replies"),{text:t},n.user.token).then((function(e){s[r]=Object(f.a)(Object(f.a)({},s[r]),{},{replies:[Object(f.a)({},e)].concat(Object(l.a)(c))}),n.setState({messages:Object(l.a)(s)})})).catch((function(e){alert(e),n.setState(a)}))},n.toggleModal=function(){return n.setState({showModal:!n.state.showModal})},n.state={loading:!1,showModal:!1,messages:[]},n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.user=this.context.user,this.loadMessages()}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,this.state.showModal&&r.a.createElement(W,{onClose:this.toggleModal},r.a.createElement(L,{initialMessage:"",height:"80",onSave:function(t){e.createMessage(t),e.toggleModal()}})),r.a.createElement(D,{onLogout:this.context.logout,onWriteMessage:this.toggleModal,userName:this.user?this.user.name:""}),r.a.createElement("div",{className:"content-wrapper-scroll"},r.a.createElement("div",{className:"content-wrapper"},r.a.createElement(L,{initialMessage:"",height:"80",onSave:this.createMessage}),this.state.messages.map((function(t){return r.a.createElement(A,{loading:t.updating,loadingReplies:t.loadingReplies,showControls:t.user_id===e.user._id,key:t._id,messageWithReplies:t,onLoadReply:e.loadReplies,onMessageDelete:e.deleteMessage,onMessageUpdate:e.updateMessage,onReplyCreate:e.createRely,onReplyDelete:function(a){return e.deleteReply(t,a)},onReplyUpdate:function(a,n){return e.updateReply(t,a,n)},showReplyControls:function(t){return t.user_id===e.user._id}})})))))}}]),a}(r.a.PureComponent);F.contextType=i;var T=function(){var e=r.a.useContext(i);return r.a.createElement(r.a.Fragment,null,e.user?r.a.createElement(F,null):r.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=function(e){var t=r.a.useState(null),a=Object(o.a)(t,2),n=a[0],s=a[1],c=r.a.useState(!1),l=Object(o.a)(c,2),u=l[0],m=l[1],d=r.a.useState(null),p=Object(o.a)(d,2),f=p[0],g=p[1],v=r.a.useState(null),j=Object(o.a)(v,2),O=j[0],E=j[1],w=r.a.useState(null),y=Object(o.a)(w,2),S=y[0],x=y[1];r.a.useEffect((function(){var e=localStorage.getItem("1589392512240token1589392512240");e&&N(e)}),[]);var N=function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),e.next=4,_.get("me",t);case 4:a=e.sent,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),s(null);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(h.a.mark((function e(t,a,n){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,_.post("register",{name:t,email:a,password:n});case 4:x("New account is created you can use it to login"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),E(e.t0.message);case 10:return e.prev=10,m(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t,a,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,_.post("login",{email:t,password:a});case 4:n=e.sent,s(n),localStorage.setItem("1589392512240token1589392512240",n.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),g(e.t0.message);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(t,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,_.post("logout",{},n.token);case 4:s(null),localStorage.removeItem("1589392512240token1589392512240"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),alert(e.t0.message);case 11:return e.prev=11,m(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(i.Provider,{value:{user:n,loading:u,loginError:f,signupError:O,sinupSuccess:S,register:k,logout:M,login:C}},e.children)};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(G,null,r.a.createElement(T,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}]),[[21,1,2]]]);
//# sourceMappingURL=main.7efe8258.chunk.js.map